{
  "categories": [
    {
      "name": "API Test Examples",
      "endpoints": [
        {
          "path": "/memory",
          "method": "GET",
          "summary": "Memory page (UI)",
          "description": "Returns the memory page (may redirect for unauthenticated users).",
          "request": null,
          "response": { "html": "string" },
          "code": {
            "curl": "curl -X GET '__BASE__/memory' -v",
            "python": "import requests\n\nurl = \"__BASE__/memory\"\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.get(url, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "// Node 18+ or browser\nasync function getMemory(baseUrl = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/memory`);\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.text();\n}\n\ngetMemory().then(t => console.log(t)).catch(e => console.error(e));"
          }
        },
        {
          "path": "/web/get_sessions",
          "method": "GET",
          "summary": "Get sessions (API)",
          "description": "GET sessions by id query parameter. Returns JSON list or object.",
          "request": { "id": "uuid (query)" },
          "response": { "sessions": [] },
          "code": {
            "curl": "curl -G '__BASE__/web/get_sessions' --data-urlencode 'id=51ebe8c7-201b-4275-9bc5-44d7222f3509'",
            "python": "import requests\n\nurl = \"__BASE__/web/get_sessions\"\nparams = { 'id': '51ebe8c7-201b-4275-9bc5-44d7222f3509' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.get(url, params=params, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function getSessions(baseUrl = null, sessionId = '51ebe8c7-201b-4275-9bc5-44d7222f3509') {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const url = new URL(`${baseUrl}/web/get_sessions`);\n  url.searchParams.set('id', sessionId);\n  const res = await fetch(url.href);\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\ngetSessions().then(j => console.log(j)).catch(e => console.error(e));"
          }
        },
        {
          "path": "/web/rag",
          "method": "POST",
          "summary": "RAG search",
          "description": "Run a RAG-style search (POST JSON).",
          "request": { "user_id": "string", "query": "string", "top_k": 3 },
          "response": { "results": [] },
          "code": {
            "curl": "curl -X POST '__BASE__/web/rag' -H 'Content-Type: application/json' -d '{\"user_id\":\"51ebe8c7-201b-4275-9bc5-44d7222f3509\",\"query\":\"test query\",\"top_k\":3}'",
            "python": "import requests\n\nurl = \"__BASE__/web/rag\"\npayload = { 'user_id': '51ebe8c7-201b-4275-9bc5-44d7222f3509', 'query': 'test query', 'top_k': 3 }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function ragSearch(baseUrl = null, userId = '51ebe8c7-201b-4275-9bc5-44d7222f3509', query = 'test query', topK = 3) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/web/rag`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ user_id: userId, query, top_k: topK })\n  });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\nragSearch().then(r => console.log(r)).catch(e => console.error(e));"
          }
        },
        {
          "path": "/validate_key",
          "method": "POST",
          "summary": "Validate API key",
          "description": "Validate API key. POST JSON {api_key: string}. Returns {valid: bool}.",
          "request": { "api_key": "string" },
          "response": { "valid": true },
          "code": {
            "curl": "curl -X POST '__BASE__/validate_key' -H 'Content-Type: application/json' -d '{\"api_key\":\"sk-...\"}'",
            "python": "import requests\n\nurl = \"__BASE__/validate_key\"\npayload = { 'api_key': 'sk-...'}\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=10)\n\nprint(response.text)",
            "javascript": "async function validateKey(baseUrl = null, apiKey = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/validate_key`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(apiKey ? { api_key: apiKey } : {})\n  });\n  return { status: res.status, body: await res.json() };\n}\nvalidateKey(null).then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/create_agent",
          "method": "POST",
          "summary": "Create agent",
          "description": "Create a new agent. Authorization typically required in headers.",
          "request": { "agent_name": "string", "agent_slug": "string", "permissions": {}, "limits": {}, "description": "string" },
          "response": { "agent_id": "string" },
          "code": {
            "curl": "curl -X POST '__BASE__/create_agent' -H 'Content-Type: application/json' -H 'Authorization: Bearer <API_KEY>' -d '{\"agent_name\":\"test-agent\",\"agent_slug\":\"test-agent\"}'",
            "python": "import requests\n\nurl = \"__BASE__/create_agent\"\npayload = { 'agent_name': 'test-agent', 'agent_slug': 'test-agent', 'permissions': { 'run': True }, 'limits': { 'rpm': 10 }, 'description': 'Created by script' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function createAgent(baseUrl = null, apiKey = null, payload = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const headers = { 'Content-Type': 'application/json' };\n  if (apiKey) headers['Authorization'] = apiKey;\n  const body = JSON.stringify(payload || { agent_name: 'test-agent', agent_slug: 'test-agent', permissions: { run: true }, limits: { rpm: 10 }, description: 'Created by script' });\n  const res = await fetch(`${baseUrl}/create_agent`, { method: 'POST', headers, body });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\ncreateAgent().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/web/create_session",
          "method": "POST",
          "summary": "Create chat session",
          "description": "Create a new chat session. Returns thread_id.",
          "request": { "user_id": "string" },
          "response": { "thread_id": "string" },
          "code": {
            "curl": "curl -X POST '__BASE__/web/create_session' -H 'Content-Type: application/json' -d '{\"user_id\":\"51ebe8c7-201b-4275-9bc5-44d7222f3509\"}'",
            "python": "import requests\n\nurl = \"__BASE__/web/create_session\"\npayload = { 'user_id': '51ebe8c7-201b-4275-9bc5-44d7222f3509' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=10)\n\nprint(response.text)",
            "javascript": "async function createSession(baseUrl = null, userId = '51ebe8c7-201b-4275-9bc5-44d7222f3509') {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/web/create_session`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ user_id: userId }) });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\ncreateSession().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/web/chat",
          "method": "POST",
          "summary": "Send chat message (streaming)",
          "description": "Send a chat message to the streaming chat endpoint. Example shows a simple non-streaming POST consumer.",
          "request": { "thread_id": "string", "user_id": "string", "message": "string", "history": [] },
          "response": { "reply": "string / stream" },
          "code": {
            "curl": "curl -X POST '__BASE__/web/chat' -H 'Content-Type: application/json' -d '{\"thread_id\":\"local_thread_123\",\"user_id\":\"51ebe8c7-201b-4275-9bc5-44d7222f3509\",\"message\":\"Hello\",\"history\":[]}'",
            "python": "import requests\n\nurl = \"__BASE__/web/chat\"\npayload = { 'thread_id': 'local_thread_123', 'user_id': '51ebe8c7-201b-4275-9bc5-44d7222f3509', 'message': 'Hello', 'history': [] }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=120)\n\nprint(response.text)",
            "javascript": "async function sendChat(baseUrl = null, threadId = 'local_thread_123', userId = '51ebe8c7-201b-4275-9bc5-44d7222f3509', message = 'Hello') {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/web/chat`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ thread_id: threadId, user_id: userId, message, history: [] }) });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.text();\n}\nsendChat().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/ping",
          "method": "GET",
          "summary": "Ping server",
          "description": "Simple health check for the running server.",
          "request": null,
          "response": { "status": "string" },
          "code": {
            "curl": "curl -X GET '__BASE__/ping' -v",
            "python": "import requests\n\nurl = \"__BASE__/ping\"\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.get(url, headers=headers, timeout=10)\n\nprint(response.text)",
            "javascript": "async function ping(baseUrl = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const res = await fetch(`${baseUrl}/ping`);\n  return { status: res.status, text: await res.text() };\n}\nping().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/list_agents",
          "method": "GET",
          "summary": "List agents (API key)",
          "description": "List agents available to the provided API key (Authorization header).",
          "request": null,
          "response": { "agents": [] },
          "code": {
            "curl": "curl -X GET '__BASE__/list_agents' -H 'Authorization: <API_KEY>'",
            "python": "import requests\n\nurl = \"__BASE__/list_agents\"\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.get(url, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function listAgents(baseUrl = null, apiKey = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const headers = {} ;\n  if (apiKey) headers['Authorization'] = apiKey;\n  const res = await fetch(`${baseUrl}/list_agents`, { headers });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\nlistAgents().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/get_agent",
          "method": "GET",
          "summary": "Get agent by id",
          "description": "Retrieve a single agent by ID. Example shows a GET with JSON payload as used in tests (some servers accept JSON body on GET).",
          "request": { "agent_id": "string" },
          "response": { "agent": {} },
          "code": {
            "curl": "curl -X GET '__BASE__/get_agent' -H 'Authorization: <API_KEY>' -G --data-urlencode 'agent_id=<AGENT_ID>'",
            "python": "import requests\n\nurl = \"__BASE__/get_agent\"\nparams = { 'agent_id': '<AGENT_ID>' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.get(url, params=params, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function getAgent(baseUrl = null, apiKey = null, agentId = null) {\n  baseUrl = baseUrl || (typeof process !== 'undefined' && process.env && process.env.BASE_URL);\n  if (!baseUrl) throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const url = new URL(`${baseUrl}/get_agent`);\n  if (agentId) url.searchParams.set('agent_id', agentId);\n  const headers = {} ;\n  if (apiKey) headers['Authorization'] = apiKey;\n  const res = await fetch(url.href, { headers });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\ngetAgent().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/update_agent",
          "method": "POST",
          "summary": "Update agent details",
          "description": "Update updatable fields for an agent. Authorization required.",
          "request": { "agent_id": "string", "updates": {} },
          "response": { "ok": true },
          "code": {
            "curl": "curl -X POST '__BASE__/update_agent' -H 'Content-Type: application/json' -H 'Authorization: <API_KEY>' -d '{\"agent_id\":\"<ID>\", \"updates\": {\"description\": \"updated\"}}'",
            "python": "import requests\n\nurl = \"__BASE__/update_agent\"\npayload = { 'agent_id': '<ID>', 'updates': { 'description': 'updated' } }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function updateAgent(baseUrl = '__BASE__', apiKey = null, agentId = null, updates = {}) {\n  baseUrl = baseUrl === '__BASE__' ? (typeof process !== 'undefined' && process.env && process.env.BASE_URL) : baseUrl;\n  if (!baseUrl || baseUrl === '__BASE__') throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const headers = { 'Content-Type': 'application/json' };\n  if (apiKey) headers['Authorization'] = apiKey;\n  const res = await fetch(`${baseUrl}/update_agent`, { method: 'POST', headers, body: JSON.stringify({ agent_id: agentId, updates }) });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\nupdateAgent().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/disable_agent",
          "method": "POST",
          "summary": "Disable agent",
          "description": "Disable an agent by id using Authorization header.",
          "request": { "agent_id": "string" },
          "response": { "ok": true },
          "code": {
            "curl": "curl -X POST '__BASE__/disable_agent' -H 'Content-Type: application/json' -H 'Authorization: <API_KEY>' -d '{\"agent_id\":\"<ID>\"}'",
            "python": "import requests\n\nurl = \"__BASE__/disable_agent\"\npayload = { 'agent_id': '<ID>' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function disableAgent(baseUrl = '__BASE__', apiKey = null, agentId = null) {\n  baseUrl = baseUrl === '__BASE__' ? (typeof process !== 'undefined' && process.env && process.env.BASE_URL) : baseUrl;\n  if (!baseUrl || baseUrl === '__BASE__') throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const headers = { 'Content-Type': 'application/json' };\n  if (apiKey) headers['Authorization'] = apiKey;\n  const res = await fetch(`${baseUrl}/disable_agent`, { method: 'POST', headers, body: JSON.stringify({ agent_id: agentId }) });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\ndisableAgent().then(console.log).catch(console.error);"
          }
        },
        {
          "path": "/enable_agent",
          "method": "POST",
          "summary": "Enable agent",
          "description": "Enable an agent by id using Authorization header.",
          "request": { "agent_id": "string" },
          "response": { "ok": true },
          "code": {
            "curl": "curl -X POST '__BASE__/enable_agent' -H 'Content-Type: application/json' -H 'Authorization: <API_KEY>' -d '{\"agent_id\":\"<ID>\"}'",
            "python": "import requests\n\nurl = \"__BASE__/enable_agent\"\npayload = { 'agent_id': '<ID>' }\nheaders = {\n    \"Authorization\": \"Bearer <token>\",\n    \"Content-Type\": \"application/json\"\n}\n\nresponse = requests.post(url, json=payload, headers=headers, timeout=15)\n\nprint(response.text)",
            "javascript": "async function enableAgent(baseUrl = '__BASE__', apiKey = null, agentId = null) {\n  baseUrl = baseUrl === '__BASE__' ? (typeof process !== 'undefined' && process.env && process.env.BASE_URL) : baseUrl;\n  if (!baseUrl || baseUrl === '__BASE__') throw new Error('baseUrl must be provided or set BASE_URL env var');\n  const headers = { 'Content-Type': 'application/json' };\n  if (apiKey) headers['Authorization'] = apiKey;\n  const res = await fetch(`${baseUrl}/enable_agent`, { method: 'POST', headers, body: JSON.stringify({ agent_id: agentId }) });\n  if (!res.ok) throw new Error(`HTTP ${res.status}`);\n  return await res.json();\n}\nenableAgent().then(console.log).catch(console.error);"
          }
        }
      ]
    }
  ]
}
