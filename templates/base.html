<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AI Agent Marketplace{% endblock %}</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        :root {
            /* Canvas Background - Clean off-white with subtle texture */
            --background: 45 15% 98%;
            --foreground: 220 9% 15%;

            /* Card System - Clean paper feel */
            --card: 0 0% 100%;
            --card-foreground: 220 9% 15%;
            --card-border: 45 15% 92%;

            /* Brand Colors - Sophisticated and professional */
            --primary: 220 9% 15%;
            --primary-foreground: 0 0% 100%;
            --primary-hover: 220 9% 25%;

            /* Soft Crayon Colors */
            --sage: 120 15% 75%;
            --sage-foreground: 120 25% 25%;
            --dusty-blue: 205 25% 70%;
            --dusty-blue-foreground: 205 35% 25%;
            --soft-ochre: 35 35% 75%;
            --soft-ochre-foreground: 35 45% 25%;
            --warm-coral: 15 35% 75%;
            --warm-coral-foreground: 15 45% 25%;

            /* UI Elements */
            --secondary: 45 15% 95%;
            --secondary-foreground: 220 9% 15%;
            
            --muted: 45 15% 94%;
            --muted-foreground: 220 6% 50%;
            
            --accent: 120 15% 75%;
            --accent-foreground: 120 25% 25%;
            
            --destructive: 0 65% 60%;
            --destructive-foreground: 0 0% 100%;

            /* Borders and Inputs */
            --border: 45 15% 88%;
            --input: 45 15% 94%;
            --ring: 220 9% 15%;

            --radius: 0.75rem;
        }

        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            background-image: 
                radial-gradient(circle at 25% 25%, hsl(var(--sage)) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, hsl(var(--dusty-blue)) 0%, transparent 50%);
            background-size: 1200px 1200px;
            background-attachment: fixed;
        }

        .card {
            background-color: hsl(var(--card));
            color: hsl(var(--card-foreground));
            border: 1px solid hsl(var(--card-border));
            border-radius: var(--radius);
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: hsl(var(--primary-hover));
        }

        .btn-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            border: 1px solid hsl(var(--border));
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .input {
            background-color: hsl(var(--input));
            color: hsl(var(--foreground));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 0.5rem;
        }

        .badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .badge-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .badge-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }

        .card-elevated {
            box-shadow: 0 8px 32px -8px hsl(220 9% 15% / 0.12);
            transition: all 0.3s ease;
        }

        .card-elevated:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px -12px hsl(220 9% 15% / 0.15);
        }
    </style>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        card: 'hsl(var(--card))',
                        'card-foreground': 'hsl(var(--card-foreground))',
                        primary: 'hsl(var(--primary))',
                        'primary-foreground': 'hsl(var(--primary-foreground))',
                        secondary: 'hsl(var(--secondary))',
                        'secondary-foreground': 'hsl(var(--secondary-foreground))',
                        muted: 'hsl(var(--muted))',
                        'muted-foreground': 'hsl(var(--muted-foreground))',
                        accent: 'hsl(var(--accent))',
                        'accent-foreground': 'hsl(var(--accent-foreground))',
                        destructive: 'hsl(var(--destructive))',
                        'destructive-foreground': 'hsl(var(--destructive-foreground))',
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        sage: 'hsl(var(--sage))',
                        'sage-foreground': 'hsl(var(--sage-foreground))',
                        'dusty-blue': 'hsl(var(--dusty-blue))',
                        'dusty-blue-foreground': 'hsl(var(--dusty-blue-foreground))',
                        'soft-ochre': 'hsl(var(--soft-ochre))',
                        'soft-ochre-foreground': 'hsl(var(--soft-ochre-foreground))',
                        'warm-coral': 'hsl(var(--warm-coral))',
                        'warm-coral-foreground': 'hsl(var(--warm-coral-foreground))'
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-full">
    <!-- Navigation -->
    <nav class="bg-card border-b border-border">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <!-- Logo -->
                    <a href="{{ url_for('homepage') }}" class="flex items-center space-x-2">
                        <i data-lucide="brain-circuit" class="h-8 w-8 text-primary"></i>
                        <span class="font-bold text-xl text-foreground">AI Agents</span>
                    </a>
                    
                    <!-- Navigation Links -->
                    <div class="hidden md:ml-8 md:flex md:space-x-8">
                        <a href="{{ url_for('explore') }}" class="text-muted-foreground hover:text-primary px-3 py-2 text-sm font-medium transition-colors">
                            Explore
                        </a>
                        <a href="{{ url_for('creators') }}" class="text-muted-foreground hover:text-primary px-3 py-2 text-sm font-medium transition-colors">
                            Creators
                        </a>
                        <a href="{{ url_for('trending') }}" class="text-muted-foreground hover:text-primary px-3 py-2 text-sm font-medium transition-colors">
                            Trending
                        </a>
                        <a href="{{ url_for('categories') }}" class="text-muted-foreground hover:text-primary px-3 py-2 text-sm font-medium transition-colors">
                            Categories
                        </a>
                    </div>
                </div>
                
                <!-- Right side -->
                <div class="flex items-center space-x-4">
                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('creator_studio') }}" class="btn-primary">
                            Submit Agent
                        </a>
                        <a href="{{ url_for('logout') }}" class="btn-secondary">
                            Logout
                        </a>
                    {% else %}
                        <a href="{{ url_for('auth') }}" class="btn-primary">
                            Sign In
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} p-4 mb-4 rounded-lg border
                        {% if category == 'success' %}bg-green-50 border-green-200 text-green-800
                        {% elif category == 'error' %}bg-red-50 border-red-200 text-red-800
                        {% else %}bg-blue-50 border-blue-200 text-blue-800{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-card border-t border-border mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-semibold text-foreground mb-4">Platform</h3>
                    <div class="space-y-2">
                        <a href="{{ url_for('explore') }}" class="block text-muted-foreground hover:text-primary transition-colors">Explore Agents</a>
                        <a href="{{ url_for('creators') }}" class="block text-muted-foreground hover:text-primary transition-colors">Creator Directory</a>
                        <a href="{{ url_for('creator_studio') }}" class="block text-muted-foreground hover:text-primary transition-colors">Submit Agent</a>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-foreground mb-4">Resources</h3>
                    <div class="space-y-2">
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Documentation</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">API Reference</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Community</a>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-foreground mb-4">Company</h3>
                    <div class="space-y-2">
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">About</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Blog</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Contact</a>
                    </div>
                </div>
                <div>
                    <h3 class="font-semibold text-foreground mb-4">Connect</h3>
                    <div class="space-y-2">
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Twitter</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">GitHub</a>
                        <a href="#" class="block text-muted-foreground hover:text-primary transition-colors">Discord</a>
                    </div>
                </div>
            </div>
            <div class="border-t border-border mt-8 pt-8 text-center text-muted-foreground">
                <p>&copy; 2024 AI Agent Marketplace. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Initialize Lucide Icons -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>