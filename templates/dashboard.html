{% extends "base.html" %}

{% block title %}Dashboard - AI Agent Marketplace{% endblock %}

{% block content %}
<div class="flex min-h-screen bg-background">
    <!-- Left Sidebar Navigation -->
    <div class="w-64 bg-card border-r border-border fixed left-0 top-16 bottom-0 overflow-y-auto">
        
        <nav class="p-4 mt-17">
            <div class="mb-6">
                <h3 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">Main</h3>
                <ul>
                    <li class="mb-2">
                        <a href="#account" class="nav-item active">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span>Account</span>
                        </a>
                    </li>
                    <li class="mb-2">
                        <a href="#my-agents" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                            </svg>
                            <span>MyAgents</span>
                        </a>
                    </li>
                    <li>
                        <a href="#api-keys" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z" />
                            </svg>
                            <span>API Keys</span>
                        </a>
                    </li>
                </ul>
            </div>
            
            <div>
                <h3 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">Resources</h3>
                <ul>
                    <li class="mb-2">
                        <a href="#" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                            </svg>
                            <span>Documentation</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" />
                            </svg>
                            <span>Support</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- Main Content Area -->
    <div class="ml-64 flex-1 overflow-auto">
        <div class="p-8 ">
            <!-- Account Section (Default View) -->
            <section id="account-content" class="content-section active">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-foreground">Account Settings</h2>
                    <p class="text-muted-foreground">Manage your account preferences and settings</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="card card-elevated p-6">
                        <div class="flex items-center mb-4">
                            <div class="p-2 bg-blue-500/10 rounded-lg mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-foreground">Credits</h3>
                        </div>
                        <p class="text-3xl font-bold text-foreground mb-2">$0.00</p>
                        <p class="text-sm text-muted-foreground">Available credits</p>
                        <button class="mt-4 text-sm text-primary font-medium hover:text-primary/80 transition-colors">
                            Add Credits →
                        </button>
                    </div>
                    
                    <div class="card card-elevated p-6">
                        <div class="flex items-center mb-4">
                            <div class="p-2 bg-purple-500/10 rounded-lg mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
                                </svg>
                            </div>
                            <h3 class="text-lg font-semibold text-foreground">Presets</h3>
                        </div>
                        <p class="text-3xl font-bold text-foreground mb-2">0</p>
                        <p class="text-sm text-muted-foreground">Saved presets</p>
                        <button class="mt-4 text-sm text-primary font-medium hover:text-primary/80 transition-colors">
                            Manage Presets →
                        </button>
                    </div>
                </div>
                
                <div class="card card-elevated p-6">
                    <h3 class="text-lg font-semibold text-foreground mb-4">Advanced Settings</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <a href="#" class="p-4 border border-border rounded-lg hover:border-primary transition-colors">
                            <h4 class="font-medium text-foreground mb-2">Provisioning Keys</h4>
                            <p class="text-sm text-muted-foreground">Manage your provisioning keys</p>
                        </a>
                        <a href="#" class="p-4 border border-border rounded-lg hover:border-primary transition-colors">
                            <h4 class="font-medium text-foreground mb-2">Integrations (BYOK)</h4>
                            <p class="text-sm text-muted-foreground">Bring your own key integrations</p>
                        </a>
                        <a href="#" class="p-4 border border-border rounded-lg hover:border-primary transition-colors">
                            <h4 class="font-medium text-foreground mb-2">Training & Privacy</h4>
                            <p class="text-sm text-muted-foreground">Training, logging, and privacy settings</p>
                        </a>
                    </div>
                </div>
            </section>
            
            <!-- MYAGENTS Section (Hidden by default) -->
            <section id="my-agents-content" class="content-section hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-foreground">MYAGENTS</h2>
                    <p class="text-muted-foreground">Manage your AI agents</p>
                </div>
                
                <div class="card card-elevated p-8 text-center">
                    <div class="max-w-md mx-auto">
                        <div class="p-3 bg-muted rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-foreground mb-2">No agents yet</h3>
                        <p class="text-muted-foreground mb-6">
                            Create your first agent to get started!
                        </p>
                        <button class="btn-primary">
                            Create Agent
                        </button>
                    </div>
                </div>
            </section>
            
            <!-- API Keys Section (Hidden by default) -->
            <section id="api-keys-content" class="content-section hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-foreground">API Keys</h2>
                    <p class="text-muted-foreground">Manage your API keys to access all models from OpenRouter</p>
                </div>
                
                <div class="card card-elevated overflow-hidden mb-6">
                    <table class="min-w-full divide-y divide-border">
                        <thead class="bg-muted">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Key</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Limit</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Usage</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-border">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="font-medium text-foreground">sanket</div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">-</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="badge badge-primary">
                                        $0 used
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-primary hover:text-primary/80 mr-3">Edit</a>
                                    <a href="#" class="text-destructive hover:text-destructive/80">Delete</a>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="font-medium text-foreground">sk-or-v1-c62...c52</div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-muted-foreground">$1.00</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="badge badge-secondary">
                                        $1 left
                                    </span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                                    <a href="#" class="text-primary hover:text-primary/80 mr-3">Edit</a>
                                    <a href="#" class="text-destructive hover:text-destructive/80">Delete</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="card card-elevated p-6">
                    <h3 class="text-lg font-semibold text-foreground mb-4">Create New API Key</h3>
                    <form class="flex flex-col md:flex-row gap-4">
                        <div class="flex-1">
                            <input type="text" placeholder="Key name" class="input w-full">
                        </div>
                        <button type="submit" class="btn-primary whitespace-nowrap">
                            Create API Key
                        </button>
                    </form>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get all navigation items and content sections
        const navItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        
        // Function to switch between content sections
        function switchContent(target) {
            // Remove active class from all nav items and content sections
            navItems.forEach(item => item.classList.remove('active'));
            contentSections.forEach(section => section.classList.add('hidden'));
            
            // Add active class to clicked nav item
            document.querySelector(`a[href="${target}"]`).classList.add('active');
            
            // Show the corresponding content section
            document.querySelector(`${target}-content`).classList.remove('hidden');
        }
        
        // Add click event listeners to nav items
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const target = this.getAttribute('href');
                switchContent(target);
                
                // Update browser history
                history.pushState(null, null, target);
            });
        });
        
        // Handle browser back/forward buttons
        window.addEventListener('popstate', function() {
            const hash = window.location.hash || '#account';
            switchContent(hash);
        });
        
        // Check if there's a hash in the URL on page load
        if (window.location.hash) {
            switchContent(window.location.hash);
        }
    });
</script>

<style>
    .nav-item {
        display: flex;
        align-items: center;
        padding: 0.75rem 1rem;
        border-radius: var(--radius);
        color: hsl(var(--muted-foreground));
        font-weight: 500;
        transition: all 0.2s;
    }
    
    .nav-item:hover {
        background-color: hsl(var(--muted));
        color: hsl(var(--foreground));
    }
    
    .nav-item.active {
        background-color: hsl(var(--primary));
        color: hsl(var(--primary-foreground));
    }
    
    .nav-item svg {
        margin-right: 0.75rem;
    }
    
    .content-section {
        transition: opacity 0.3s;
    }
</style>
{% endblock %}